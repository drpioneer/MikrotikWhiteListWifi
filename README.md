# MikrotikWhiteListWifi
Script generating a whitelist of WIFI clients

Столкнулся с проблемой несанкционированного подключения к своим беспроводным сетям.
Со временем надоело вручную блокировать каждое новое неизвестное устройство.
Было решено попытаться автоматизировать процесс блокировки.

Суть идеи: На основе списка DHCP-клиентов генерИтся список разрешенных WIFI-клиентов. Всем остальным подключение по WIFI запрещено.

Задумка реализована под CAPsMAN.
При запуске скрипта, из списка зарегистрированных DHCP-Server->Leases производится выборка только тех, в комментариях у которых присутствует слово: "wifi". Из этих записей формируется белый список MAC-адресов, который складывается в CAPsMAN->Access List. В конце добавляется запрещающее правило.
С этого момента доступ к WIFI-сети имеют только прописанные в белом списке клиенты.
Теперь все желающие, в том числе знающие пароль от WIFI-сети, но не прописанные в белом списке WIFI-клиентов, не имеют возможности подключиться к сети без участия администратора.

Для того, чтобы прописать нового клиента, необходимо вручную зарегистрировать его в списке DHCP-Server->Leases, в комментарии указать "wifi" и запустить скрипт для перегенерации белого списка.
